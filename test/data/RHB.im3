--****************************************************--
--****************************************************--
--   Room Heating Benchmark in HYTECH
--
--
--   Written by Laurent Fribourg: 23/09/2010
--****************************************************--
--****************************************************--


var     h,
	max, 				-- maximum time of global clock
	a1,a2,a3			-- parameters for room temperatures
			: parameter;


--****************************************************--
--****************************************************--
-- AUTOMATA
--****************************************************--
--****************************************************--

----------- 220 indicates heaters in (and on) room 1 and 2 ------------
----------- 202 indicates heaters in (and on) room 1 and 3 ------------
----------- 022 indicates heaters in (and on) room 2 and 3 ------------


----------- 16 indicates a temperature in [31/2, 35/2]  ------
----------- 18 indicates a temperature in [35/2, 39/2]  ------



--****************************************************--
automaton rhb
--****************************************************--

var 	t,				-- sampling clock
	s				-- global clock
		: clock;

	x1,x2, x3 				-- room temperatures
			: analog;


synclabs: clockUp1;			-- useless synchronized transition
initially loc022_161616;





---------- 161616 --------------------------------------

loc loc022_161616: while t<=h & s<=max & 31/2 <=x3 & x3 <=35/2 
		& 31/2 <=x1 & x1 <=35/2  & 31/2 <=x2 & x2 <=35/2

		wait 		{ x1' in [-10/10, -1] &
				  x2' in [1/3, 1/3] &
				  x3' in [1/3, 1/3] }

	when t=h & x1 < 18  & x2-x1 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_161616; -- move heater from room 2 to room 1

	when t=h & x1 < 18  & x3-x1 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_161616; -- move heater from room 3 to room 1

	when t=h & x1>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_161616; -- loop

	when t=h  & x2-x1 < 1 & x3-x1< 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_161616; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_181616;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_161816;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_161618;

	when x1 = 31/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;
	

-----

loc loc202_161616: while t<=h & s<=max & 31/2 <=x3 & x3 <=35/2 
		& 31/2 <=x1 & x1 <=35/2  & 31/2 <=x2 & x2 <=35/2

		wait 		{ x1' in [1/3, 1/3] &
				  x2' in [-10/10, -1] &
				  x3' in [1/3, 1/3] }

	when t=h & x2 < 18  & x1-x2 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_161616; -- move heater from room 1 to room 2

	when t=h & x2 < 18  & x3-x2 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_161616; -- move heater from room 3 to room 2

	when t=h & x2>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_161616; -- loop

	when t=h  & x1-x2 < 1 & x3-x2 < 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_161616; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_181616;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_161816;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_161618;

	when x2 = 31/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


-----

loc loc220_161616: while t<=h & s<=max & 31/2 <=x3 & x3 <=35/2 
		& 31/2 <=x1 & x1 <=35/2  & 31/2 <=x2 & x2 <=35/2

		wait 		{ x1' in [1/3, 1/3] &
				  x2' in [1/3, 1/3] &
				  x3' in [-10/10, -1] }

	when t=h & x3 < 18  & x1-x3 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_161616; -- move heater from room 1 to room 3

	when t=h & x3 < 18  & x2-x3 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_161616; -- move heater from room 2 to room 3

	when t=h & x3>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_161616; -- loop

	when t=h  & x1-x3 <1 & x2-x3 < 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_161616; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_181616;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_161816;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_161618;

	when x3 = 31/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


-----
----- 181616
-----

loc loc022_181616: while t<=h & s<=max & 31/2 <=x3 & x3 <=35/2 
		& 31/2 <=x2 & x2 <=35/2  & 35/2 <=x1 & x1 <=39/2

		wait 		{ x1' in [-10/10, -1] &
				  x2' in [1/3, 1/3] &
				  x3' in [1/3, 1/3] }

	when t=h & x1 < 18  & x2-x1 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_181616; -- move heater from room 2 to room 1

	when t=h & x1 < 18  & x3-x1 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_181616; -- move heater from room 3 to room 1

	when t=h & x1>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_181616; -- loop

	when t=h  & x2-x1 < 1 & x3-x1 <  1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_181616; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_161616;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_181816;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_181618;



-----

loc loc202_181616: while t<=h & s<=max & 31/2 <=x3 & x3 <=35/2 
		& 35/2 <=x1 & x1 <=39/2  & 31/2 <=x2 & x2 <=35/2

		wait 		{ x1' in [1/3, 1/3] &
				  x2' in [-10/10, -1] &
				  x3' in [1/3, 1/3] }

	when t=h & x2 < 18  & x1-x2 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_181616; -- move heater from room 1 to room 2

	when t=h & x2 < 18  & x3-x2 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_181616; -- move heater from room 3 to room 2

	when t=h & x2>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_181616; -- loop

	when t=h  & x1-x2 < 1 & x3-x2 < 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_181616; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_161616;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_181816;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_181618;

	when x2 = 31/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;
	when x1 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


-----

loc loc220_181616: while t<=h & s<=max & 31/2 <=x3 & x3 <=35/2 
		& 35/2 <=x1 & x1 <=39/2  & 31/2 <=x2 & x2 <=35/2

		wait 		{ x1' in [1/3, 1/3] &
				  x2' in [1/3, 1/3] &
				  x3' in [-10/10, -1] }

	when t=h & x3 < 18  & x1-x3 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_181616; -- move heater from room 1 to room 3

	when t=h & x3 < 18  & x2-x3 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_181616; -- move heater from room 2 to room 3

	when t=h & x3>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_181616; -- loop

	when t=h  & x1-x3 <1 & x2-x3 < 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_181616; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_161616;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_181816;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_181618;

	when x3 = 31/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;
	when x1 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


---------- 161816 --------------------------------------

loc loc022_161816: while t<=h & s<=max & 31/2 <=x3 & x3 <=35/2 
		& 31/2 <=x1 & x1 <=35/2  & 35/2 <=x2 & x2 <=39/2

		wait 		{ x1' in [-10/10, -1] &
				  x2' in [1/3, 1/3] &
				  x3' in [1/3, 1/3] }

	when t=h & x1 < 18  & x2-x1 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_161816; -- move heater from room 2 to room 1

	when t=h & x1 < 18  & x3-x1 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_161816; -- move heater from room 3 to room 1

	when t=h & x1>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_161816; -- loop

	when t=h  & x2-x1 < 1 & x3-x1< 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_161816; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_181816;   
	when x2 = 31/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_161616;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_161818;

	when x1 = 31/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;
	when x2 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


-----

loc loc202_161816: while t<=h & s<=max & 31/2 <=x3 & x3 <=35/2 
		& 31/2 <=x1 & x1 <=35/2  & 35/2 <=x2 & x2 <=39/2

		wait 		{ x1' in [1/3, 1/3] &
				  x2' in [-10/10, -1] &
				  x3' in [1/3, 1/3] }

	when t=h & x2 < 18  & x1-x2 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_161816; -- move heater from room 1 to room 2

	when t=h & x2 < 18  & x3-x2 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_161816; -- move heater from room 3 to room 2

	when t=h & x2>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_161816; -- loop

	when t=h  & x1-x2 < 1 & x3-x2 < 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_161816; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_181816;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_161616;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_161818; 


-----

loc loc220_161816: while t<=h & s<=max & 31/2 <=x3 & x3 <=35/2 
		& 31/2 <=x1 & x1 <=35/2  & 35/2 <=x2 & x2 <=39/2

		wait 		{ x1' in [1/3, 1/3] &
				  x2' in [1/3, 1/3] &
				  x3' in [-10/10, -1] }

	when t=h & x3 < 18  & x1-x3 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_161816; -- move heater from room 1 to room 3

	when t=h & x3 < 18  & x2-x3 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_161816; -- move heater from room 2 to room 3

	when t=h & x3>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_161816; -- loop

	when t=h  & x1-x3 <1 & x2-x3 < 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_161816; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_181816;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_161616;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_161818;

	when x3 = 31/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;
	when x2 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


---- 161618 -----------


loc loc022_161618: while t<=h & s<=max & 35/2 <=x3 & x3 <=39/2 
		& 31/2 <=x1 & x1 <=35/2  & 31/2 <=x2 & x2 <=35/2

		wait 		{ x1' in [-10/10, -1] &
				  x2' in [1/3, 1/3] &
				  x3' in [1/3, 1/3] }

	when t=h & x1 < 18  & x2-x1 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_161618; -- move heater from room 2 to room 1

	when t=h & x1 < 18  & x3-x1 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_161618; -- move heater from room 3 to room 1

	when t=h & x1>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_161618; -- loop

	when t=h  & x2-x1 < 1 & x3-x1< 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_161618; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_181618;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_161818;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_161616;

	when x1 = 31/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;
	when x3 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


-----

loc loc202_161618: while t<=h & s<=max & 35/2 <=x3 & x3 <=39/2 
		& 31/2 <=x1 & x1 <=35/2  & 31/2 <=x2 & x2 <=35/2

		wait 		{ x1' in [1/3, 1/3] &
				  x2' in [-10/10, -1] &
				  x3' in [1/3, 1/3] }

	when t=h & x2 < 18  & x1-x2 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_161618; -- move heater from room 1 to room 2

	when t=h & x2 < 18  & x3-x2 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_161618; -- move heater from room 3 to room 2

	when t=h & x2>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_161618; -- loop

	when t=h  & x1-x2 < 1 & x3-x2 < 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_161618; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_181618;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_161818;    
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_161616;

	when x2 = 31/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;
	when x3 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


-----

loc loc220_161618: while t<=h & s<=max & 35/2 <=x3 & x3 <=39/2 
		& 31/2 <=x1 & x1 <=35/2  & 31/2 <=x2 & x2 <=35/2

		wait 		{ x1' in [1/3, 1/3] &
				  x2' in [1/3, 1/3] &
				  x3' in [-10/10, -1] }

	when t=h & x3 < 18  & x1-x3 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_161618; -- move heater from room 1 to room 3

	when t=h & x3 < 18  & x2-x3 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_161618; -- move heater from room 2 to room 3

	when t=h & x3>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_161618; -- loop

	when t=h  & x1-x3 <1 & x2-x3 < 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_161618; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_181618;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_161818;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_161616;





---------- 161818 --------------------------------------

loc loc022_161818: while t<=h & s<=max & 35/2 <=x3 & x3 <=39/2 
		& 31/2 <=x1 & x1 <=35/2  & 35/2 <=x2 & x2 <=39/2

		wait 		{ x1' in [-10/10, -1] &
				  x2' in [1/3, 1/3] &
				  x3' in [1/3, 1/3] }

	when t=h & x1 < 18  & x2-x1 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_161818; -- move heater from room 2 to room 1

	when t=h & x1 < 18  & x3-x1 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_161818; -- move heater from room 3 to room 1

	when t=h & x1>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_161818; -- loop

	when t=h  & x2-x1 < 1 & x3-x1< 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_161818; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_181818;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_161618;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_161816;

	when x2 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;
	when x3 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


-----

loc loc202_161818: while t<=h & s<=max & 35/2 <=x3 & x3 <=39/2 
		& 31/2 <=x1 & x1 <=35/2  & 35/2 <=x2 & x2 <=39/2

		wait 		{ x1' in [1/3, 1/3] &
				  x2' in [-10/10, -1] &
				  x3' in [1/3, 1/3] }

	when t=h & x2 < 18  & x1-x2 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_161818; -- move heater from room 1 to room 2

	when t=h & x2 < 18  & x3-x2 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_161818; -- move heater from room 3 to room 2

	when t=h & x2>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_161818; -- loop

	when t=h  & x1-x2 < 1 & x3-x2 < 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_161818; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_181818;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_161618;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_161816;

	when x3 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


-----

loc loc220_161818: while t<=h & s<=max & 35/2 <=x3 & x3 <=39/2 
		& 31/2 <=x1 & x1 <=35/2  & 35/2 <=x2 & x2 <=39/2

		wait 		{ x1' in [1/3, 1/3] &
				  x2' in [1/3, 1/3] &
				  x3' in [-10/10, -1] }

	when t=h & x3 < 18  & x1-x3 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_161818; -- move heater from room 1 to room 3

	when t=h & x3 < 18  & x2-x3 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_161818; -- move heater from room 2 to room 3

	when t=h & x3>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_161818; -- loop

	when t=h  & x1-x3 <1 & x2-x3 < 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_161818; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_181818;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_161618;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_161816;

	when x2 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


-----  181618 --------------------------------------

loc loc022_181618: while t<=h & s<=max & 35/2 <=x3 & x3 <=39/2 
		& 35/2 <=x1 & x1 <=39/2  & 31/2 <=x2 & x2 <=35/2

		wait 		{ x1' in [-10/10, -1] &
				  x2' in [1/3, 1/3] &
				  x3' in [1/3, 1/3] }

	when t=h & x1 < 18  & x2-x1 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_181618; -- move heater from room 2 to room 1

	when t=h & x1 < 18  & x3-x1 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_181618; -- move heater from room 3 to room 1

	when t=h & x1>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_181618; -- loop

	when t=h  & x2-x1 < 1 & x3-x1< 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_181618; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_161618;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_181818;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_181616;

	when x3 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


-----

loc loc202_181618: while t<=h & s<=max & 35/2 <=x3 & x3 <=39/2 
		& 35/2 <=x1 & x1 <=39/2  & 31/2 <=x2 & x2 <=35/2

		wait 		{ x1' in [1/3, 1/3] &
				  x2' in [-10/10, -1] &
				  x3' in [1/3, 1/3] }

	when t=h & x2 < 18  & x1-x2 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_181618; -- move heater from room 1 to room 2

	when t=h & x2 < 18  & x3-x2 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_181618; -- move heater from room 3 to room 2

	when t=h & x2>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_181618; -- loop

	when t=h  & x1-x2 < 1 & x3-x2 < 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_181618; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_161618;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_181818;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_181616;

	when x1 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;
	when x2 = 31/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;
	when x3 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


-----

loc loc220_181618: while t<=h & s<=max & 35/2 <= x3 & x3 <=39/2 
		& 35/2 <=x1 & x1 <=39/2  & 31/2 <=x2 & x2 <=35/2

		wait 		{ x1' in [1/3, 1/3] &
				  x2' in [1/3, 1/3] &
				  x3' in [-10/10, -1] }

	when t=h & x3 < 18  & x1-x3 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_181618; -- move heater from room 1 to room 3

	when t=h & x3 < 18  & x2-x3 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_181618; -- move heater from room 2 to room 3

	when t=h & x3>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_181618; -- loop

	when t=h  & x1-x3 <1 & x2-x3 < 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_181618; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_161618;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_181818;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_181616;

	when x1 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


------- 181816 -----------------------------------------

loc loc022_181816: while t<=h & s<=max & 31/2 <=x3 & x3 <=35/2 
		& 35/2 <=x1 & x1 <=39/2  & 35/2 <=x2 & x2 <=39/2

		wait 		{ x1' in [-10/10, -1] &
				  x2' in [1/3, 1/3] &
				  x3' in [1/3, 1/3] }

	when t=h & x1 < 18  & x2-x1 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_181816; -- move heater from room 2 to room 1

	when t=h & x1 < 18  & x3-x1 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_181816; -- move heater from room 3 to room 1

	when t=h & x1>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_181816; -- loop

	when t=h  & x2-x1 < 1 & x3-x1< 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_181816; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_161816;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_181616;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_181818;

	when x2 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


-----

loc loc202_181816: while t<=h & s<=max & 31/2 <=x3 & x3 <=35/2 
		& 35/2 <=x1 & x1 <=39/2  & 35/2 <=x2 & x2 <=39/2

		wait 		{ x1' in [1/3, 1/3] &
				  x2' in [-10/10, -1] &
				  x3' in [1/3, 1/3] }

	when t=h & x2 < 18  & x1-x2 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_181816; -- move heater from room 1 to room 2

	when t=h & x2 < 18  & x3-x2 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_181816; -- move heater from room 3 to room 2

	when t=h & x2>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_181816; -- loop

	when t=h  & x1-x2 < 1 & x3-x2 < 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_181816; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_161816;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_181616;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_181818;

	when x1 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


-----

loc loc220_181816: while t<=h & s<=max & 31/2 <=x3 & x3 <=35/2 
		& 35/2 <=x1 & x1 <=39/2  & 35/2 <=x2 & x2 <=39/2

		wait 		{ x1' in [1/3, 1/3] &
				  x2' in [1/3, 1/3] &
				  x3' in [-10/10, -1] }

	when t=h & x3 < 18  & x1-x3 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_181816; -- move heater from room 1 to room 3

	when t=h & x3 < 18  & x2-x3 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_181816; -- move heater from room 2 to room 3

	when t=h & x3>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_181816; -- loop

	when t=h  & x1-x3 <1 & x2-x3 < 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_181816; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_161816;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_181616;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_181818;

	when x1 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;
	when x2 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;
	when x3 = 31/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


-------------- 181818 ----------------------------

loc loc022_181818: while t<=h & s<=max & 35/2 <=x3 & x3 <=39/2 
		& 35/2 <=x1 & x1 <=39/2  & 35/2 <=x2 & x2 <=39/2

		wait 		{ x1' in [-10/10, -1] &
				  x2' in [1/3, 1/3] &
				  x3' in [1/3, 1/3] }

	when t=h & x1 < 18  & x2-x1 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_181818; -- move heater from room 2 to room 1

	when t=h & x1 < 18  & x3-x1 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_181818; -- move heater from room 3 to room 1

	when t=h & x1>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_181818; -- loop

	when t=h  & x2-x1 < 1 & x3-x1< 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_181818; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_161818;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_181618;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc022_181816;

	when x2 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;
	when x3 = 39/2     do {x1' = x1, x2' = x2, x3' = x3} goto err;


-----

loc loc202_181818: while t<=h & s<=max & 35/2 <=x3 & x3 <=39/2 
		& 35/2 <=x1 & x1 <=39/2  & 35/2 <=x2 & x2 <=39/2

		wait 		{ x1' in [1/3, 1/3] &
				  x2' in [-10/10, -1] &
				  x3' in [1/3, 1/3] }

	when t=h & x2 < 18  & x1-x2 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_181818; -- move heater from room 1 to room 2

	when t=h & x2 < 18  & x3-x2 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_181818; -- move heater from room 3 to room 2

	when t=h & x2>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_181818; -- loop

	when t=h  & x1-x2 < 1 & x3-x2 < 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_181818; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_161818;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_181618;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc202_181816;


-----

loc loc220_181818: while t<=h & s<=max & 35/2 <=x3 & x3 <=39/2 
		& 35/2 <=x1 & x1 <=39/2  & 35/2 <=x2 & x2 <=39/2

		wait 		{ x1' in [1/3, 1/3] &
				  x2' in [1/3, 1/3] &
				  x3' in [-10/10, -1] }

	when t=h & x3 < 18  & x1-x3 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc022_181818; -- move heater from room 1 to room 3

	when t=h & x3 < 18  & x2-x3 >= 1  	
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc202_181818; -- move heater from room 2 to room 3

	when t=h & x3>= 18
		sync clockUp1 
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_181818; -- loop

	when t=h  & x1-x3 <1 & x2-x3 < 1
		sync clockUp1
		do {x1' = x1, x2' = x2, x3' = x3, t'=0} 
		goto loc220_181818; -- loop

	

	when x1 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_161818;   
	when x2 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_181618;
	when x3 = 35/2     do {x1' = x1, x2' = x2, x3' = x3} goto loc220_181816;


loc err: while s<=max wait {x1'=0 & x2'=0 & x3'=0}
    when True do {x1'=x1, x2'=x2, x3'=x3} goto err;


end -- rhb


--****************************************************--
--****************************************************--
-- ANALYSIS
--****************************************************--
--****************************************************--

var init: region;

init :=
	----------------------
	-- Initial locations
	----------------------
	  loc[rhb] = loc220_181818


	----------------------
	-- Clocks
	----------------------
	& t= 0 & s=0
	----------------------
	-- Parameters
	----------------------
	& x1=96/5 
	& x2=91/5 
        & x3=181/10		
	& x1=a1 & x2=a2 & x3=a3
	& h=1/3
	& max=20

	----------------------
	-- Instantiation of the parameters 
	----------------------

	---START PI0---


--	& a1=96/5 & a2=91/5 & a3=193/10

	---END PI0---


;


